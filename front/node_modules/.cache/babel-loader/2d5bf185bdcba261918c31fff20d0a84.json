{"ast":null,"code":"function IsVictory(cells) {\n  const positions = [[0, 1, 2], [3, 4, 5], [6, 7, 8], [0, 3, 6], [1, 4, 7], [2, 5, 8], [0, 4, 8], [2, 4, 6]];\n\n  const isRowComplete = row => {\n    const symbols = row.map(i => cells[i]);\n    return symbols.every(i => i !== null && i === symbols[0]);\n  };\n\n  return positions.map(isRowComplete).some(i => i === true);\n}\n\n_c = IsVictory;\nconst TicTacToe = {\n  name: \"tic-tac-toe\",\n  setup: () => ({\n    cells: Array(10).fill(null)\n  }),\n  moves: {\n    clickCell(G, ctx, id) {\n      if (id === 10) {\n        G.cells[id] = ctx.random.D6();\n      } else if (G.cells[id] === null) {\n        G.cells[id] = ctx.currentPlayer;\n      }\n    }\n\n  },\n  turn: {\n    moveLimit: 1\n  },\n  endIf: (G, ctx) => {\n    if (IsVictory(G.cells)) {\n      return {\n        winner: ctx.currentPlayer\n      };\n    }\n\n    if (G.cells.filter(c => c === null).length === 0) {\n      return {\n        draw: true\n      };\n    }\n  },\n  ai: {\n    enumerate: G => {\n      let moves = [];\n\n      for (let i = 0; i < 9; i++) {\n        if (G.cells[i] === null) {\n          moves.push({\n            move: \"clickCell\",\n            args: [i]\n          });\n        }\n      }\n\n      return moves;\n    }\n  }\n};\nexport default TicTacToe;\n\nvar _c;\n\n$RefreshReg$(_c, \"IsVictory\");","map":{"version":3,"sources":["D:/CS161_Breadsticks/front/src/components/Game.js"],"names":["IsVictory","cells","positions","isRowComplete","row","symbols","map","i","every","some","TicTacToe","name","setup","Array","fill","moves","clickCell","G","ctx","id","random","D6","currentPlayer","turn","moveLimit","endIf","winner","filter","c","length","draw","ai","enumerate","push","move","args"],"mappings":"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","sourcesContent":["function IsVictory(cells) {\r\n  const positions = [\r\n    [0, 1, 2],\r\n    [3, 4, 5],\r\n    [6, 7, 8],\r\n    [0, 3, 6],\r\n    [1, 4, 7],\r\n    [2, 5, 8],\r\n    [0, 4, 8],\r\n    [2, 4, 6]\r\n  ];\r\n\r\n  const isRowComplete = row => {\r\n    const symbols = row.map(i => cells[i]);\r\n    return symbols.every(i => i !== null && i === symbols[0]);\r\n  };\r\n\r\n  return positions.map(isRowComplete).some(i => i === true);\r\n}\r\n\r\nconst TicTacToe = {\r\n  name: \"tic-tac-toe\",\r\n\r\n  setup: () => ({\r\n    cells: Array(10).fill(null)\r\n  }),\r\n\r\n  moves: {\r\n    clickCell(G, ctx, id) {\r\n      if (id === 10) {\r\n        G.cells[id] = ctx.random.D6();\r\n      }\r\n      else if (G.cells[id] === null) {\r\n        G.cells[id] = ctx.currentPlayer;\r\n      }\r\n    }\r\n  },\r\n\r\n  turn: { moveLimit: 1 },\r\n\r\n  endIf: (G, ctx) => {\r\n    if (IsVictory(G.cells)) {\r\n      return { winner: ctx.currentPlayer };\r\n    }\r\n    if (G.cells.filter(c => c === null).length === 0) {\r\n      return { draw: true };\r\n    }\r\n  },\r\n\r\n  ai: {\r\n    enumerate: G => {\r\n      let moves = [];\r\n      for (let i = 0; i < 9; i++) {\r\n        if (G.cells[i] === null) {\r\n          moves.push({ move: \"clickCell\", args: [i] });\r\n        }\r\n      }\r\n      return moves;\r\n    }\r\n  }\r\n};\r\n\r\nexport default TicTacToe;"]},"metadata":{},"sourceType":"module"}