{"ast":null,"code":"function IsVictory(cells) {\n  const positions = [[0, 1, 2], [3, 4, 5], [6, 7, 8], [0, 3, 6], [1, 4, 7], [2, 5, 8], [0, 4, 8], [2, 4, 6]];\n\n  const isRowComplete = row => {\n    const symbols = row.map(i => cells[i]);\n    return symbols.every(i => i !== null && i === symbols[0]);\n  };\n\n  return positions.map(isRowComplete).some(i => i === true);\n}\n\n_c = IsVictory;\nconst TicTacToe = {\n  name: \"tic-tac-toe\",\n  setup: () => ({\n    cells: Array(9).fill(null)\n  }),\n  moves: {\n    clickCell(G, ctx, id) {\n      if (G.cells[id] === null) {\n        G.cells[id] = ctx.currentPlayer;\n      }\n    }\n\n  },\n  turn: {\n    moveLimit: 1\n  },\n  endIf: (G, ctx) => {\n    if (IsVictory(G.cells)) {\n      return {\n        winner: ctx.currentPlayer\n      };\n    }\n\n    if (G.cells.filter(c => c === null).length === 0) {\n      return {\n        draw: true\n      };\n    }\n  },\n  ai: {\n    enumerate: G => {\n      let moves = [];\n\n      for (let i = 0; i < 9; i++) {\n        if (G.cells[i] === null) {\n          moves.push({\n            move: \"clickCell\",\n            args: [i]\n          });\n        }\n      }\n\n      return moves;\n    }\n  }\n};\nexport default TicTacToe;\n\nvar _c;\n\n$RefreshReg$(_c, \"IsVictory\");","map":{"version":3,"sources":["/Users/andywang/Desktop/CS161_Breadsticks/front/src/components/Game.js"],"names":["IsVictory","cells","positions","isRowComplete","row","symbols","map","i","every","some","TicTacToe","name","setup","Array","fill","moves","clickCell","G","ctx","id","currentPlayer","turn","moveLimit","endIf","winner","filter","c","length","draw","ai","enumerate","push","move","args"],"mappings":"AAAA,SAASA,SAAT,CAAmBC,KAAnB,EAA0B;AACxB,QAAMC,SAAS,GAAG,CAChB,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAP,CADgB,EAEhB,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAP,CAFgB,EAGhB,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAP,CAHgB,EAIhB,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAP,CAJgB,EAKhB,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAP,CALgB,EAMhB,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAP,CANgB,EAOhB,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAP,CAPgB,EAQhB,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAP,CARgB,CAAlB;;AAWA,QAAMC,aAAa,GAAGC,GAAG,IAAI;AAC3B,UAAMC,OAAO,GAAGD,GAAG,CAACE,GAAJ,CAAQC,CAAC,IAAIN,KAAK,CAACM,CAAD,CAAlB,CAAhB;AACA,WAAOF,OAAO,CAACG,KAAR,CAAcD,CAAC,IAAIA,CAAC,KAAK,IAAN,IAAcA,CAAC,KAAKF,OAAO,CAAC,CAAD,CAA9C,CAAP;AACD,GAHD;;AAKA,SAAOH,SAAS,CAACI,GAAV,CAAcH,aAAd,EAA6BM,IAA7B,CAAkCF,CAAC,IAAIA,CAAC,KAAK,IAA7C,CAAP;AACD;;KAlBQP,S;AAoBT,MAAMU,SAAS,GAAG;AAChBC,EAAAA,IAAI,EAAE,aADU;AAGhBC,EAAAA,KAAK,EAAE,OAAO;AACZX,IAAAA,KAAK,EAAEY,KAAK,CAAC,CAAD,CAAL,CAASC,IAAT,CAAc,IAAd;AADK,GAAP,CAHS;AAOhBC,EAAAA,KAAK,EAAE;AACLC,IAAAA,SAAS,CAACC,CAAD,EAAIC,GAAJ,EAASC,EAAT,EAAa;AACpB,UAAIF,CAAC,CAAChB,KAAF,CAAQkB,EAAR,MAAgB,IAApB,EAA0B;AACxBF,QAAAA,CAAC,CAAChB,KAAF,CAAQkB,EAAR,IAAcD,GAAG,CAACE,aAAlB;AACD;AACF;;AALI,GAPS;AAehBC,EAAAA,IAAI,EAAE;AAAEC,IAAAA,SAAS,EAAE;AAAb,GAfU;AAiBhBC,EAAAA,KAAK,EAAE,CAACN,CAAD,EAAIC,GAAJ,KAAY;AACjB,QAAIlB,SAAS,CAACiB,CAAC,CAAChB,KAAH,CAAb,EAAwB;AACtB,aAAO;AAAEuB,QAAAA,MAAM,EAAEN,GAAG,CAACE;AAAd,OAAP;AACD;;AACD,QAAIH,CAAC,CAAChB,KAAF,CAAQwB,MAAR,CAAeC,CAAC,IAAIA,CAAC,KAAK,IAA1B,EAAgCC,MAAhC,KAA2C,CAA/C,EAAkD;AAChD,aAAO;AAAEC,QAAAA,IAAI,EAAE;AAAR,OAAP;AACD;AACF,GAxBe;AA0BhBC,EAAAA,EAAE,EAAE;AACFC,IAAAA,SAAS,EAAEb,CAAC,IAAI;AACd,UAAIF,KAAK,GAAG,EAAZ;;AACA,WAAK,IAAIR,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,CAApB,EAAuBA,CAAC,EAAxB,EAA4B;AAC1B,YAAIU,CAAC,CAAChB,KAAF,CAAQM,CAAR,MAAe,IAAnB,EAAyB;AACvBQ,UAAAA,KAAK,CAACgB,IAAN,CAAW;AAAEC,YAAAA,IAAI,EAAE,WAAR;AAAqBC,YAAAA,IAAI,EAAE,CAAC1B,CAAD;AAA3B,WAAX;AACD;AACF;;AACD,aAAOQ,KAAP;AACD;AATC;AA1BY,CAAlB;AAuCA,eAAeL,SAAf","sourcesContent":["function IsVictory(cells) {\n  const positions = [\n    [0, 1, 2],\n    [3, 4, 5],\n    [6, 7, 8],\n    [0, 3, 6],\n    [1, 4, 7],\n    [2, 5, 8],\n    [0, 4, 8],\n    [2, 4, 6]\n  ];\n\n  const isRowComplete = row => {\n    const symbols = row.map(i => cells[i]);\n    return symbols.every(i => i !== null && i === symbols[0]);\n  };\n\n  return positions.map(isRowComplete).some(i => i === true);\n}\n\nconst TicTacToe = {\n  name: \"tic-tac-toe\",\n\n  setup: () => ({\n    cells: Array(9).fill(null)\n  }),\n\n  moves: {\n    clickCell(G, ctx, id) {\n      if (G.cells[id] === null) {\n        G.cells[id] = ctx.currentPlayer;\n      }\n    }\n  },\n\n  turn: { moveLimit: 1 },\n\n  endIf: (G, ctx) => {\n    if (IsVictory(G.cells)) {\n      return { winner: ctx.currentPlayer };\n    }\n    if (G.cells.filter(c => c === null).length === 0) {\n      return { draw: true };\n    }\n  },\n\n  ai: {\n    enumerate: G => {\n      let moves = [];\n      for (let i = 0; i < 9; i++) {\n        if (G.cells[i] === null) {\n          moves.push({ move: \"clickCell\", args: [i] });\n        }\n      }\n      return moves;\n    }\n  }\n};\n\nexport default TicTacToe;"]},"metadata":{},"sourceType":"module"}