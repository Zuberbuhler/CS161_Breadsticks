{"ast":null,"code":"var _jsxFileName = \"/Users/andywang/Desktop/CS161_Breadsticks/front/src/components/Login.js\",\n    _s = $RefreshSig$();\n\nimport { useState } from \"react\";\nimport { BrowserRouter, Routes, Route, useNavigate, Link } from \"react-router-dom\";\nimport { createUserWithEmailAndPassword, signInWithEmailAndPassword, onAuthStateChanged, getAuth, signOut } from \"firebase/auth\";\nimport { auth } from \"../firebase\";\nimport Dashboard from \"./Dashboard\";\nimport Register from \"./Register\";\n/* ---------------------------------------------------------- */\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Login() {\n  _s();\n\n  let navigate = useNavigate();\n  const [loginEmail, setLoginEmail] = useState(\"\");\n  const [loginPassword, setLoginPassword] = useState(\"\");\n  const [user, setUser] = useState({});\n  const auth = getAuth();\n  /*\n  If the user is already logged in and navigates to this page, redirect to Dashboard\n  */\n\n  onAuthStateChanged(auth, currentUser => {\n    if (currentUser) {\n      navigate('/Dashboard');\n      const uid = currentUser.uid;\n    }\n  });\n  /*\n  Logs in with provided email and password\n  */\n\n  const login = async () => {\n    if (loginEmail == \"\" || loginPassword == \"\") {\n      alert(\"Please do not leave any inputs blank\");\n    } else {\n      try {\n        const user = await signInWithEmailAndPassword(auth, loginEmail, loginPassword);\n        console.log(user);\n        navigate('/Dashboard');\n      } catch (error) {\n        var errorCode = error.code;\n        var errorMessage = error.message;\n\n        if (errorCode == 'auth/invalid-email' || errorCode == 'auth/wrong-password') {\n          alert('Username or password is incorrect');\n        } else {\n          alert(errorMessage);\n        }\n\n        console.log(error.message);\n      }\n    }\n  };\n  /*\n  Logs in with the preregistered account \"tester@gmail.com\"\n  */\n\n\n  const tester_login = async () => {\n    try {\n      const user = await signInWithEmailAndPassword(auth, \"tester@gmail.com\", \"123456\");\n      console.log(user);\n      navigate('/Dashboard');\n    } catch (error) {\n      console.log(error.message);\n    }\n  };\n  /*\n  Logs in with the preregistered account \"tester2@gmail.com\"\n  */\n\n\n  const tester2_login = async () => {\n    try {\n      const user = await signInWithEmailAndPassword(auth, \"tester2@gmail.com\", \"123456\");\n      console.log(user);\n      navigate('/Dashboard');\n    } catch (error) {\n      console.log(error.message);\n    }\n  };\n  /*\n  Logs the user out and navigates to the landing page\n  */\n\n\n  const logout = async () => {\n    await signOut(auth);\n    navigate('/App');\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"Login\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"Login\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        placeholder: \"Email\",\n        onChange: event => {\n          setLoginEmail(event.target.value);\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        placeholder: \"Password\",\n        onChange: event => {\n          setLoginPassword(event.target.value);\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: login,\n        children: \"Login\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [\"Don't have an account?\", /*#__PURE__*/_jsxDEV(Link, {\n        to: \"/Register\",\n        children: \" Register now\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: tester_login,\n        children: \"Login as tester\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: tester2_login,\n        children: \"Login as tester2\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 123,\n    columnNumber: 9\n  }, this);\n}\n\n_s(Login, \"QAjHe5bKqmmIEEAcseW8vWjqf6o=\", false, function () {\n  return [useNavigate];\n});\n\n_c = Login;\nexport default Login;\n\nvar _c;\n\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"sources":["/Users/andywang/Desktop/CS161_Breadsticks/front/src/components/Login.js"],"names":["useState","BrowserRouter","Routes","Route","useNavigate","Link","createUserWithEmailAndPassword","signInWithEmailAndPassword","onAuthStateChanged","getAuth","signOut","auth","Dashboard","Register","Login","navigate","loginEmail","setLoginEmail","loginPassword","setLoginPassword","user","setUser","currentUser","uid","login","alert","console","log","error","errorCode","code","errorMessage","message","tester_login","tester2_login","logout","event","target","value"],"mappings":"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","sourcesContent":["import { useState } from \"react\";\nimport { \n  BrowserRouter,\n  Routes,\n  Route,\n  useNavigate,\n  Link \n} from \"react-router-dom\";\nimport {\n  createUserWithEmailAndPassword,\n  signInWithEmailAndPassword,\n  onAuthStateChanged,\n  getAuth,\n  signOut,\n} from \"firebase/auth\";\nimport { auth } from \"../firebase\";\nimport Dashboard from \"./Dashboard\"\nimport Register from \"./Register\"\n\n/* ---------------------------------------------------------- */\n\nfunction Login() {\n    let navigate = useNavigate();\n\n    const [loginEmail, setLoginEmail] = useState(\"\");\n    const [loginPassword, setLoginPassword] = useState(\"\");\n\n    const [user, setUser] = useState({})\n    \n    const auth = getAuth();\n\n    /*\n    If the user is already logged in and navigates to this page, redirect to Dashboard\n    */\n    onAuthStateChanged(auth, (currentUser) => {\n    if (currentUser) {\n        navigate('/Dashboard');\n        const uid = currentUser.uid;\n    }\n    });\n\n    /*\n    Logs in with provided email and password\n    */\n    const login = async () => {\n        if (loginEmail == \"\" || loginPassword == \"\") {\n            alert(\"Please do not leave any inputs blank\")\n        }\n        else {\n            try {\n                const user = await signInWithEmailAndPassword(\n                    auth,\n                    loginEmail,\n                    loginPassword\n                 );\n                 \n                console.log(user);\n                navigate('/Dashboard');\n            } \n            catch (error) {\n                var errorCode = error.code;\n                var errorMessage = error.message;\n\n                if (errorCode == 'auth/invalid-email' || errorCode == 'auth/wrong-password') {\n                    alert('Username or password is incorrect')\n                }\n                else {\n                    alert(errorMessage)\n                }\n                console.log(error.message);\n            }\n        }\n\n    }\n\n    /*\n    Logs in with the preregistered account \"tester@gmail.com\"\n    */\n    const tester_login = async () => {\n        try {\n            const user = await signInWithEmailAndPassword(\n                auth,\n                \"tester@gmail.com\",\n                \"123456\"\n             );\n             \n            console.log(user);\n            navigate('/Dashboard');\n        } \n        catch (error) {\n            console.log(error.message);\n        }\n    }\n\n        /*\n    Logs in with the preregistered account \"tester2@gmail.com\"\n    */\n    const tester2_login = async () => {\n        try {\n            const user = await signInWithEmailAndPassword(\n                auth,\n                \"tester2@gmail.com\",\n                \"123456\"\n             );\n             \n            console.log(user);\n            navigate('/Dashboard');\n        } \n        catch (error) {\n            console.log(error.message);\n        }\n    }\n\n    /*\n    Logs the user out and navigates to the landing page\n    */\n    const logout = async () => {\n        await signOut(auth);\n        navigate('/App');\n    }\n            \n    return (\n        <div className=\"Login\">\n\n        <div>\n            <h3>Login</h3>\n            <input placeholder=\"Email\" \n            onChange={(event) => {\n            setLoginEmail(event.target.value);\n            }}\n            />\n            <input placeholder=\"Password\" \n            onChange={(event) => {\n            setLoginPassword(event.target.value);\n            }}\n            />\n            <button onClick={login}>Login</button>\n        </div>\n\n        <br /> \n        <div>\n            Don't have an account?\n            <Link to=\"/Register\"> Register now</Link>\n        </div>\n\n        <div>\n            <button onClick={tester_login}>Login as tester</button>\n            <button onClick={tester2_login}>Login as tester2</button>\n        </div>\n        \n        </div>\n    );\n}\n\nexport default Login;"]},"metadata":{},"sourceType":"module"}