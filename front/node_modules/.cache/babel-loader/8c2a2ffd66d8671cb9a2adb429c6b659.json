{"ast":null,"code":"import GameTile from \"./GameTile\";\n\nfunction IsVictory(cells) {\n  const positions = [[0, 1, 2], [3, 4, 5], [6, 7, 8], [0, 3, 6], [1, 4, 7], [2, 5, 8], [0, 4, 8], [2, 4, 6]];\n\n  const isRowComplete = row => {\n    const symbols = row.map(i => cells[i]);\n    return symbols.every(i => i !== null && i === symbols[0]);\n  };\n\n  return positions.map(isRowComplete).some(i => i === true);\n}\n\n_c = IsVictory;\nconst BreadsticksGame = {\n  name: \"Breadsticks-Game\",\n  setup: (ctx, setupData) => ({\n    cells: GameTile(10).fill(null),\n    scores: Array(4).fill(0)\n  }),\n  moves: {\n    clickCell(G, ctx, id) {\n      if (id === 10) {\n        G.cells[id] = ctx.random.D6();\n      } else if (G.cells[id] === null) {\n        G.cells[id] = ctx.currentPlayer;\n      }\n    }\n\n  },\n  turn: {\n    moveLimit: 1\n  },\n  // The minimum and maximum number of players supported\n  // (This is only enforced when using the Lobby server component.)\n  minPlayers: 1,\n  maxPlayers: 4,\n  endIf: (G, ctx) => {\n    if (IsVictory(G.cells)) {\n      return {\n        winner: ctx.currentPlayer\n      };\n    }\n\n    if (G.cells.filter(c => c === null).length === 0) {\n      return {\n        draw: true\n      };\n    }\n  },\n  ai: {\n    enumerate: G => {\n      let moves = [];\n\n      for (let i = 0; i < 9; i++) {\n        if (G.cells[i] === null) {\n          moves.push({\n            move: \"clickCell\",\n            args: [i]\n          });\n        }\n      }\n\n      return moves;\n    }\n  }\n};\nexport default BreadsticksGame;\n\nvar _c;\n\n$RefreshReg$(_c, \"IsVictory\");","map":{"version":3,"sources":["D:/CS161_Breadsticks/front/src/components/Game.js"],"names":["GameTile","IsVictory","cells","positions","isRowComplete","row","symbols","map","i","every","some","BreadsticksGame","name","setup","ctx","setupData","fill","scores","Array","moves","clickCell","G","id","random","D6","currentPlayer","turn","moveLimit","minPlayers","maxPlayers","endIf","winner","filter","c","length","draw","ai","enumerate","push","move","args"],"mappings":"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","sourcesContent":["import GameTile from \"./GameTile\";\r\nfunction IsVictory(cells) {\r\n  const positions = [\r\n    [0, 1, 2],\r\n    [3, 4, 5],\r\n    [6, 7, 8],\r\n    [0, 3, 6],\r\n    [1, 4, 7],\r\n    [2, 5, 8],\r\n    [0, 4, 8],\r\n    [2, 4, 6]\r\n  ];\r\n\r\n  const isRowComplete = row => {\r\n    const symbols = row.map(i => cells[i]);\r\n    return symbols.every(i => i !== null && i === symbols[0]);\r\n  };\r\n\r\n  return positions.map(isRowComplete).some(i => i === true);\r\n}\r\n\r\nconst BreadsticksGame = {\r\n  name: \"Breadsticks-Game\",\r\n\r\n  setup: (ctx, setupData) => ({\r\n    cells: GameTile(10).fill(null),\r\n    scores: Array(4).fill(0),\r\n  }),\r\n\r\n  moves: {\r\n    clickCell(G, ctx, id) {\r\n      if (id === 10) {\r\n        G.cells[id] = ctx.random.D6();\r\n      }\r\n      else if (G.cells[id] === null) {\r\n        G.cells[id] = ctx.currentPlayer;\r\n      }\r\n    }\r\n  },\r\n\r\n  turn: { moveLimit: 1 },\r\n\r\n   // The minimum and maximum number of players supported\r\n  // (This is only enforced when using the Lobby server component.)\r\n  minPlayers: 1,\r\n  maxPlayers: 4,\r\n\r\n  endIf: (G, ctx) => {\r\n    if (IsVictory(G.cells)) {\r\n      return { winner: ctx.currentPlayer };\r\n    }\r\n    if (G.cells.filter(c => c === null).length === 0) {\r\n      return { draw: true };\r\n    }\r\n  },\r\n\r\n  ai: {\r\n    enumerate: G => {\r\n      let moves = [];\r\n      for (let i = 0; i < 9; i++) {\r\n        if (G.cells[i] === null) {\r\n          moves.push({ move: \"clickCell\", args: [i] });\r\n        }\r\n      }\r\n      return moves;\r\n    }\r\n  }\r\n};\r\n\r\nexport default BreadsticksGame;"]},"metadata":{},"sourceType":"module"}