{"ast":null,"code":"import { I as InitializeGame } from './initialize-9ac1bbf5.js';\nvar Type;\n\n(function (Type) {\n  Type[Type[\"SYNC\"] = 0] = \"SYNC\";\n  Type[Type[\"ASYNC\"] = 1] = \"ASYNC\";\n})(Type || (Type = {}));\n/**\r\n * Type guard that checks if a storage implementation is synchronous.\r\n */\n\n\nfunction isSynchronous(storageAPI) {\n  return storageAPI.type() === Type.SYNC;\n}\n\nclass Async {\n  /* istanbul ignore next */\n  type() {\n    /* istanbul ignore next */\n    return Type.ASYNC;\n  }\n  /**\r\n   * Create a new match.\r\n   *\r\n   * This might just need to call setState and setMetadata in\r\n   * most implementations.\r\n   *\r\n   * However, it exists as a separate call so that the\r\n   * implementation can provision things differently when\r\n   * a match is created.  For example, it might stow away the\r\n   * initial match state in a separate field for easier retrieval.\r\n   */\n\n  /* istanbul ignore next */\n\n\n  async createMatch(matchID, opts) {\n    if (this.createGame) {\n      console.warn('The database connector does not implement a createMatch method.', '\\nUsing the deprecated createGame method instead.');\n      return this.createGame(matchID, opts);\n    } else {\n      console.error('The database connector does not implement a createMatch method.');\n    }\n  }\n  /**\r\n   * Return all matches.\r\n   */\n\n  /* istanbul ignore next */\n\n\n  async listMatches(opts) {\n    if (this.listGames) {\n      console.warn('The database connector does not implement a listMatches method.', '\\nUsing the deprecated listGames method instead.');\n      return this.listGames(opts);\n    } else {\n      console.error('The database connector does not implement a listMatches method.');\n    }\n  }\n\n}\n\nclass Sync {\n  type() {\n    return Type.SYNC;\n  }\n  /**\r\n   * Connect.\r\n   */\n\n\n  connect() {\n    return;\n  }\n  /**\r\n   * Create a new match.\r\n   *\r\n   * This might just need to call setState and setMetadata in\r\n   * most implementations.\r\n   *\r\n   * However, it exists as a separate call so that the\r\n   * implementation can provision things differently when\r\n   * a match is created.  For example, it might stow away the\r\n   * initial match state in a separate field for easier retrieval.\r\n   */\n\n  /* istanbul ignore next */\n\n\n  createMatch(matchID, opts) {\n    if (this.createGame) {\n      console.warn('The database connector does not implement a createMatch method.', '\\nUsing the deprecated createGame method instead.');\n      return this.createGame(matchID, opts);\n    } else {\n      console.error('The database connector does not implement a createMatch method.');\n    }\n  }\n  /**\r\n   * Return all matches.\r\n   */\n\n  /* istanbul ignore next */\n\n\n  listMatches(opts) {\n    if (this.listGames) {\n      console.warn('The database connector does not implement a listMatches method.', '\\nUsing the deprecated listGames method instead.');\n      return this.listGames(opts);\n    } else {\n      console.error('The database connector does not implement a listMatches method.');\n    }\n  }\n\n}\n/**\r\n * Creates a new match metadata object.\r\n */\n\n\nconst createMetadata = _ref => {\n  let {\n    game,\n    unlisted,\n    setupData,\n    numPlayers\n  } = _ref;\n  const metadata = {\n    gameName: game.name,\n    unlisted: !!unlisted,\n    players: {},\n    createdAt: Date.now(),\n    updatedAt: Date.now()\n  };\n  if (setupData !== undefined) metadata.setupData = setupData;\n\n  for (let playerIndex = 0; playerIndex < numPlayers; playerIndex++) {\n    metadata.players[playerIndex] = {\n      id: playerIndex\n    };\n  }\n\n  return metadata;\n};\n/**\r\n * Creates initial state and metadata for a new match.\r\n * If the provided `setupData` doesn’t pass the game’s validation,\r\n * an error object is returned instead.\r\n */\n\n\nconst createMatch = _ref2 => {\n  let {\n    game,\n    numPlayers,\n    setupData,\n    unlisted\n  } = _ref2;\n  if (!numPlayers || typeof numPlayers !== 'number') numPlayers = 2;\n  const setupDataError = game.validateSetupData && game.validateSetupData(setupData, numPlayers);\n  if (setupDataError !== undefined) return {\n    setupDataError\n  };\n  const metadata = createMetadata({\n    game,\n    numPlayers,\n    setupData,\n    unlisted\n  });\n  const initialState = InitializeGame({\n    game,\n    numPlayers,\n    setupData\n  });\n  return {\n    metadata,\n    initialState\n  };\n};\n\nexport { Async as A, Sync as S, createMatch as c, isSynchronous as i };","map":{"version":3,"sources":["/Users/andywang/Desktop/CS161_Breadsticks/node_modules/boardgame.io/dist/esm/util-b1699aa1.js"],"names":["I","InitializeGame","Type","isSynchronous","storageAPI","type","SYNC","Async","ASYNC","createMatch","matchID","opts","createGame","console","warn","error","listMatches","listGames","Sync","connect","createMetadata","game","unlisted","setupData","numPlayers","metadata","gameName","name","players","createdAt","Date","now","updatedAt","undefined","playerIndex","id","setupDataError","validateSetupData","initialState","A","S","c","i"],"mappings":"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","sourcesContent":["import { I as InitializeGame } from './initialize-9ac1bbf5.js';\n\nvar Type;\r\n(function (Type) {\r\n    Type[Type[\"SYNC\"] = 0] = \"SYNC\";\r\n    Type[Type[\"ASYNC\"] = 1] = \"ASYNC\";\r\n})(Type || (Type = {}));\r\n/**\r\n * Type guard that checks if a storage implementation is synchronous.\r\n */\r\nfunction isSynchronous(storageAPI) {\r\n    return storageAPI.type() === Type.SYNC;\r\n}\r\nclass Async {\r\n    /* istanbul ignore next */\r\n    type() {\r\n        /* istanbul ignore next */\r\n        return Type.ASYNC;\r\n    }\r\n    /**\r\n     * Create a new match.\r\n     *\r\n     * This might just need to call setState and setMetadata in\r\n     * most implementations.\r\n     *\r\n     * However, it exists as a separate call so that the\r\n     * implementation can provision things differently when\r\n     * a match is created.  For example, it might stow away the\r\n     * initial match state in a separate field for easier retrieval.\r\n     */\r\n    /* istanbul ignore next */\r\n    async createMatch(matchID, opts) {\r\n        if (this.createGame) {\r\n            console.warn('The database connector does not implement a createMatch method.', '\\nUsing the deprecated createGame method instead.');\r\n            return this.createGame(matchID, opts);\r\n        }\r\n        else {\r\n            console.error('The database connector does not implement a createMatch method.');\r\n        }\r\n    }\r\n    /**\r\n     * Return all matches.\r\n     */\r\n    /* istanbul ignore next */\r\n    async listMatches(opts) {\r\n        if (this.listGames) {\r\n            console.warn('The database connector does not implement a listMatches method.', '\\nUsing the deprecated listGames method instead.');\r\n            return this.listGames(opts);\r\n        }\r\n        else {\r\n            console.error('The database connector does not implement a listMatches method.');\r\n        }\r\n    }\r\n}\r\nclass Sync {\r\n    type() {\r\n        return Type.SYNC;\r\n    }\r\n    /**\r\n     * Connect.\r\n     */\r\n    connect() {\r\n        return;\r\n    }\r\n    /**\r\n     * Create a new match.\r\n     *\r\n     * This might just need to call setState and setMetadata in\r\n     * most implementations.\r\n     *\r\n     * However, it exists as a separate call so that the\r\n     * implementation can provision things differently when\r\n     * a match is created.  For example, it might stow away the\r\n     * initial match state in a separate field for easier retrieval.\r\n     */\r\n    /* istanbul ignore next */\r\n    createMatch(matchID, opts) {\r\n        if (this.createGame) {\r\n            console.warn('The database connector does not implement a createMatch method.', '\\nUsing the deprecated createGame method instead.');\r\n            return this.createGame(matchID, opts);\r\n        }\r\n        else {\r\n            console.error('The database connector does not implement a createMatch method.');\r\n        }\r\n    }\r\n    /**\r\n     * Return all matches.\r\n     */\r\n    /* istanbul ignore next */\r\n    listMatches(opts) {\r\n        if (this.listGames) {\r\n            console.warn('The database connector does not implement a listMatches method.', '\\nUsing the deprecated listGames method instead.');\r\n            return this.listGames(opts);\r\n        }\r\n        else {\r\n            console.error('The database connector does not implement a listMatches method.');\r\n        }\r\n    }\r\n}\n\n/**\r\n * Creates a new match metadata object.\r\n */\r\nconst createMetadata = ({ game, unlisted, setupData, numPlayers, }) => {\r\n    const metadata = {\r\n        gameName: game.name,\r\n        unlisted: !!unlisted,\r\n        players: {},\r\n        createdAt: Date.now(),\r\n        updatedAt: Date.now(),\r\n    };\r\n    if (setupData !== undefined)\r\n        metadata.setupData = setupData;\r\n    for (let playerIndex = 0; playerIndex < numPlayers; playerIndex++) {\r\n        metadata.players[playerIndex] = { id: playerIndex };\r\n    }\r\n    return metadata;\r\n};\r\n/**\r\n * Creates initial state and metadata for a new match.\r\n * If the provided `setupData` doesn’t pass the game’s validation,\r\n * an error object is returned instead.\r\n */\r\nconst createMatch = ({ game, numPlayers, setupData, unlisted, }) => {\r\n    if (!numPlayers || typeof numPlayers !== 'number')\r\n        numPlayers = 2;\r\n    const setupDataError = game.validateSetupData && game.validateSetupData(setupData, numPlayers);\r\n    if (setupDataError !== undefined)\r\n        return { setupDataError };\r\n    const metadata = createMetadata({ game, numPlayers, setupData, unlisted });\r\n    const initialState = InitializeGame({ game, numPlayers, setupData });\r\n    return { metadata, initialState };\r\n};\n\nexport { Async as A, Sync as S, createMatch as c, isSynchronous as i };\n"]},"metadata":{},"sourceType":"module"}